<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: api/class.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: api/class.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>export default class Fetcher {
  /**
   * get user intel
   * @param {number} userId
   * @returns {Promise}
   */
  static async getUser(userId) {
    try {
      const response = await fetch("http://localhost:3001/user/" + userId)
      const jsonRes = await response.json()
      if (jsonRes) {
        return jsonRes.data
      }
    } catch (error) {
      return "Les données n'ont pu être récupérées"
    }
  }
  /**
   * get user activity intel
   * @param {number} userId
   * @returns {Promise}
   */
  static async getUserActivity(userId) {
    try {
      const response = await fetch(
        "http://localhost:3001/user/" + userId + "/activity"
      )
      const jsonRes = await response.json()
      if (jsonRes) {
        const data = Object.values(jsonRes.data.sessions).map((elt) => {
          let day = elt.day.split("-")
          const formattedData = {
            day: day[2],
            kilogram: elt.kilogram,
            calories: elt.calories,
          }
          return formattedData
        })
        return data
      }
    } catch (error) {
      return "Les données n'ont pu être récupérées"
    }
  }
  /**
   * get user average sessions intel
   * @param {number} userId
   * @returns {Promise}
   */
  static async getUserAverage(userId) {
    try {
      const response = await fetch(
        "http://localhost:3001/user/" + userId + "/average-sessions"
      )
      const jsonRes = await response.json()
      if (jsonRes) {
        const average = Object.values(jsonRes.data.sessions).map((elt) => {
          return elt
        })
        return average
      }
    } catch (error) {
      return {
        error: "Les données n'ont pu être récupérées",
      }
    }
  }
  /**
   * get user performance intel
   * @param {number} userId
   * @returns {Promise}
   */
  static async getUserPerformance(userId) {
    const response = await fetch(
      "http://localhost:3001/user/" + userId + "/performance"
    )
    const jsonRes = await response.json()
    if (jsonRes) {
      const kind = Object.values(jsonRes.data.data).map((elt) => {
        const category =
          elt.kind === 1
            ? "Cardio"
            : elt.kind === 2
            ? "Energie"
            : elt.kind === 3
            ? "Endurance"
            : elt.kind === 4
            ? "Force"
            : elt.kind === 5
            ? "Vitesse"
            : elt.kind === 6
            ? "Intesité"
            : "Erreur"
        const formattedData = {
          kind: category,
          value: elt.value,
        }
        return formattedData
      })
      return kind
    }
  }
  catch(error) {
    return {
      error: "Les données n'ont pu être récupérées",
    }
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Aside.html">Aside</a></li><li><a href="BarChartComp.html">BarChartComp</a></li><li><a href="Error.html">Error</a></li><li><a href="Header.html">Header</a></li><li><a href="Icon.html">Icon</a></li><li><a href="LineChartComp.html">LineChartComp</a></li><li><a href="Loader.html">Loader</a></li><li><a href="Nutrient.html">Nutrient</a></li><li><a href="Profil.html">Profil</a></li><li><a href="RadarChartComp.html">RadarChartComp</a></li><li><a href="RadialChartComp.html">RadialChartComp</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getUser">getUser</a></li><li><a href="global.html#getUserActivity">getUserActivity</a></li><li><a href="global.html#getUserAverage">getUserAverage</a></li><li><a href="global.html#getUserPerformance">getUserPerformance</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Mon Dec 06 2021 17:26:09 GMT+0100 (heure normale d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
